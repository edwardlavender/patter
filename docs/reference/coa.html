<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>COA: centres of activity — coa • patter</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="COA: centres of activity — coa"><meta property="og:description" content="This function calculates centres of activity (COAs) from detections at acoustic receivers."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">patter</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/a-methodology.html">Methodology</a>
    </li>
    <li>
      <a href="../articles/b-workflow-outline.html">Workflow outline</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/edwardlavender/patter/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>COA: centres of activity</h1>
    <small class="dont-index">Source: <a href="https://github.com/edwardlavender/patter/blob/HEAD/R/coa.R" class="external-link"><code>R/coa.R</code></a></small>
    <div class="hidden name"><code>coa.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function calculates centres of activity (COAs) from detections at acoustic receivers.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">coa</span><span class="op">(</span></span>
<span>  <span class="va">.map</span>,</span>
<span>  <span class="va">.detections</span>,</span>
<span>  .moorings <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">.delta_t</span>,</span>
<span>  .split <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  .plot_weights <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  .one_page <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg--map">.map<a class="anchor" aria-label="anchor" href="#arg--map"></a></dt>
<dd><p>A <code>SpatRaster</code> that defines the study area (see <code><a href="glossary.html">glossary</a></code>). Here, <code>.map</code> is used to:</p><ul><li><p>Extract <code>map_value</code> at centres of activity, for consistency with other routines (such as <code><a href="pf_filter.html">pf_filter()</a></code>);</p></li>
</ul></dd>


<dt id="arg--detections-moorings">.detections, .moorings<a class="anchor" aria-label="anchor" href="#arg--detections-moorings"></a></dt>
<dd><p>Acoustic detection <a href="s"><code>data.table</code></a>.</p><ul><li><p><code>.detections</code> is a <code><a href="https://rdrr.io/pkg/data.table/man/data.table.html" class="external-link">data.table</a></code> of acoustic detections, with the following columns: <code>receiver_id</code> (or <code>sensor_id</code>), <code>timestamp</code> and (optionally) <code>receiver_x</code> and <code>receiver_y</code> columns;</p></li>
<li><p>(optional) <code>.moorings</code> is a <code><a href="https://rdrr.io/pkg/data.table/man/data.table.html" class="external-link">data.table</a></code> of receiver coordinates, which should be provided if unavailable in <code>.detections</code>, with <code>receiver_id</code>, <code>receiver_x</code> and <code>receiver_y</code> columns;</p></li>
</ul><p>Receiver coordinates <strong>must be planar</strong>.</p></dd>


<dt id="arg--delta-t">.delta_t<a class="anchor" aria-label="anchor" href="#arg--delta-t"></a></dt>
<dd><p>The time interval over which to calculate COAs. This can be specified in any way understood by <code><a href="https://lubridate.tidyverse.org/reference/round_date.html" class="external-link">lubridate::floor_date()</a></code> (see the <code>unit</code> argument).</p></dd>


<dt id="arg--split">.split<a class="anchor" aria-label="anchor" href="#arg--split"></a></dt>
<dd><p>(optional) A <code>character</code> that defines the name of the grouping factor in <code>.detections</code> (e.g., <code>individual_id</code> for <code><a href="datasets-mefs.html">dat_detections</a></code>).</p></dd>


<dt id="arg--plot-weights-one-page">.plot_weights, ..., .one_page<a class="anchor" aria-label="anchor" href="#arg--plot-weights-one-page"></a></dt>
<dd><p>Plot arguments.</p><ul><li><p><code>.plot_weights</code> is a <code>logical</code> variable that defines whether or not to plot the frequency distribution of weights for each <code>.split</code> value (i.e., the frequency distribution of the number of detections at each receiver in each time interval, excluding time intervals without detections).</p></li>
<li><p><code>...</code> is a placeholder for arguments passed to <code><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">graphics::hist()</a></code>, excluding <code>main</code>.</p></li>
<li><p><code>.one_page</code> A <code>logical</code> variable that defines whether or not to plot all histograms on one page.</p></li>
</ul></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>The function returns a <code><a href="https://rdrr.io/pkg/data.table/man/data.table.html" class="external-link">data.table</a></code> with the following columns:</p><ul><li><p><code>{.split}</code>—a <code>character</code> vector that distinguishes groups, if applicable;</p></li>
<li><p><code>timestep</code>—an <code>integer</code> vector of time steps;</p></li>
<li><p><code>timestamp</code>—a <code>POSIXt</code> vector of time stamps;</p></li>
<li><p><code>map_value</code>, <code>x</code>, <code>y</code>—the value of <code>.map</code> at COAs and their coordinates;</p></li>
</ul><p>Data are arranged by <code>.split</code> and <code>timestamp</code>.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>COAs are calculated as a weighted mean of the locations of receivers at which individuals are detected over consecutive time intervals, weighted by the frequency of detections at each of those receivers. COAs are calculated via <code><a href="https://rdrr.io/r/stats/weighted.mean.html" class="external-link">stats::weighted.mean()</a></code>, which assumes planar coordinates, for consistency with other <code><a href="patter.html">patter</a></code> routines. To handle longitude/latitude coordinates, use <code><a href="https://rdrr.io/pkg/geosphere/man/geomean.html" class="external-link">geosphere::geomean()</a></code>.</p>
<p>This function replaces <a href="https://edwardlavender.github.io/flapper/reference/coa.html" class="external-link"><code><a href="https://edwardlavender.github.io/flapper/reference/coa.html" class="external-link">flapper::coa()</a></code></a>. See  <a href="https://edwardlavender.github.io/flapper/reference/coa_setup_delta_t.html" class="external-link"><code><a href="https://edwardlavender.github.io/flapper/reference/coa_setup_delta_t.html" class="external-link">flapper::coa_setup_delta_t()</a></code></a> to evaluate alternative time internals.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index">
<ul><li><p>To derive location samples from a particle filtering algorithm, see <code><a href="pf_filter.html">pf_filter()</a></code> and associates;</p></li>
<li><p>For mapping utilisation distributions from coordinates, see <code>map_*()</code> functions (i.e., <code><a href="map_pou.html">map_pou()</a></code> and <code><a href="map_dens.html">map_dens()</a></code>);</p></li>
</ul></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Edward Lavender</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com" class="external-link">data.table</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#### Set up example</span></span></span>
<span class="r-in"><span><span class="va">map</span>        <span class="op">&lt;-</span> <span class="fu"><a href="datasets-mefs.html">dat_gebco</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">detections</span> <span class="op">&lt;-</span> <span class="va">dat_detections</span></span></span>
<span class="r-in"><span><span class="va">moorings</span>   <span class="op">&lt;-</span> <span class="va">dat_moorings</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#### Example (1): Calculate COAs for an example individual</span></span></span>
<span class="r-in"><span><span class="va">id</span>     <span class="op">&lt;-</span> <span class="va">dat_detections</span><span class="op">$</span><span class="va">individual_id</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">det</span>    <span class="op">&lt;-</span> <span class="va">dat_detections</span><span class="op">[</span><span class="va">individual_id</span> <span class="op">==</span> <span class="va">id</span>, <span class="op">]</span></span></span>
<span class="r-in"><span><span class="fu">coa</span><span class="op">(</span>.map <span class="op">=</span> <span class="va">map</span>, .detections <span class="op">=</span> <span class="va">det</span>, .moorings <span class="op">=</span> <span class="va">moorings</span>,</span></span>
<span class="r-in"><span>    .delta_t <span class="op">=</span> <span class="st">"2 hours"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="coa-1.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      timestep           timestamp map_value        x       y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         &lt;int&gt;              &lt;POSc&gt;     &lt;num&gt;    &lt;num&gt;   &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1:        1 2016-03-17 00:00:00  58.17422 709242.1 6253107</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2:        2 2016-03-17 02:00:00  58.24497 708992.1 6252957</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3:        3 2016-03-17 04:00:00  58.17422 709255.3 6253107</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4:        4 2016-03-17 08:00:00  49.72233 709398.4 6253169</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5:        5 2016-03-21 20:00:00  58.17422 709242.1 6253107</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ---                                                        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 763:      763 2017-05-31 20:00:00  56.08996 702980.1 6266245</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 764:      764 2017-05-31 22:00:00  56.08996 702975.5 6266240</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 765:      765 2017-06-01 00:00:00  68.36060 703042.1 6266307</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 766:      766 2017-06-01 02:00:00  68.36060 703042.1 6266307</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 767:      767 2017-06-01 04:00:00  68.36060 703042.1 6266307</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#### Example (2): Customise the time interval via `.delta_t`</span></span></span>
<span class="r-in"><span><span class="fu">coa</span><span class="op">(</span>.map <span class="op">=</span> <span class="va">map</span>, .detections <span class="op">=</span> <span class="va">det</span>, .moorings <span class="op">=</span> <span class="va">moorings</span>,</span></span>
<span class="r-in"><span>    .delta_t <span class="op">=</span> <span class="st">"4 hours"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="coa-2.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      timestep           timestamp map_value        x       y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         &lt;int&gt;              &lt;POSc&gt;     &lt;num&gt;    &lt;num&gt;   &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1:        1 2016-03-17 00:00:00  66.55176 709013.0 6252969</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2:        2 2016-03-17 04:00:00  58.17422 709255.3 6253107</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3:        3 2016-03-17 08:00:00  49.72233 709398.4 6253169</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4:        4 2016-03-21 20:00:00  58.17422 709242.1 6253107</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5:        5 2016-03-22 04:00:00  58.17422 709242.1 6253107</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ---                                                        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 549:      549 2017-05-30 20:00:00  34.53219 702839.2 6266053</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 550:      550 2017-05-31 16:00:00  56.08996 702974.0 6266239</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 551:      551 2017-05-31 20:00:00  56.08996 702977.1 6266242</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 552:      552 2017-06-01 00:00:00  68.36060 703042.1 6266307</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 553:      553 2017-06-01 04:00:00  68.36060 703042.1 6266307</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#### Example (3): Calculate COAs for multiple individuals via `.split`</span></span></span>
<span class="r-in"><span><span class="co"># Calculate COAs</span></span></span>
<span class="r-in"><span><span class="fu">coa</span><span class="op">(</span>.map <span class="op">=</span> <span class="va">map</span>, .detections <span class="op">=</span> <span class="va">det</span>, .moorings <span class="op">=</span> <span class="va">moorings</span>,</span></span>
<span class="r-in"><span>    .delta_t <span class="op">=</span> <span class="st">"6 hours"</span>, .split <span class="op">=</span> <span class="st">"individual_id"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="coa-3.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      individual_id timestep           timestamp map_value        x       y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              &lt;int&gt;    &lt;int&gt;              &lt;POSc&gt;     &lt;num&gt;    &lt;num&gt;   &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1:            25        1 2016-03-17 00:00:00  59.76520 709120.1 6253030</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2:            25        2 2016-03-17 06:00:00  49.72233 709398.4 6253169</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3:            25        3 2016-03-21 18:00:00  58.17422 709242.1 6253107</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4:            25        4 2016-03-22 00:00:00  58.17422 709242.1 6253107</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5:            25        5 2016-03-22 06:00:00  58.17422 709242.1 6253107</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ---                                                                      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 469:            25      469 2017-05-30 00:00:00  56.08996 702939.6 6266204</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 470:            25      470 2017-05-30 06:00:00  68.36060 703042.1 6266307</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 471:            25      471 2017-05-30 18:00:00  34.53219 702839.2 6266053</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 472:            25      472 2017-05-31 18:00:00  56.08996 702976.4 6266241</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 473:            25      473 2017-06-01 00:00:00  68.36060 703042.1 6266307</span>
<span class="r-in"><span><span class="co"># Use one page for plots via `.one_page = TRUE`</span></span></span>
<span class="r-in"><span><span class="fu">coa</span><span class="op">(</span>.map <span class="op">=</span> <span class="va">map</span>, .detections <span class="op">=</span> <span class="va">det</span>, .moorings <span class="op">=</span> <span class="va">moorings</span>,</span></span>
<span class="r-in"><span>    .delta_t <span class="op">=</span> <span class="st">"6 hours"</span>, .split <span class="op">=</span> <span class="st">"individual_id"</span>,</span></span>
<span class="r-in"><span>    .one_page <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      individual_id timestep           timestamp map_value        x       y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              &lt;int&gt;    &lt;int&gt;              &lt;POSc&gt;     &lt;num&gt;    &lt;num&gt;   &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1:            25        1 2016-03-17 00:00:00  59.76520 709120.1 6253030</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2:            25        2 2016-03-17 06:00:00  49.72233 709398.4 6253169</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3:            25        3 2016-03-21 18:00:00  58.17422 709242.1 6253107</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4:            25        4 2016-03-22 00:00:00  58.17422 709242.1 6253107</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5:            25        5 2016-03-22 06:00:00  58.17422 709242.1 6253107</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ---                                                                      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 469:            25      469 2017-05-30 00:00:00  56.08996 702939.6 6266204</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 470:            25      470 2017-05-30 06:00:00  68.36060 703042.1 6266307</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 471:            25      471 2017-05-30 18:00:00  34.53219 702839.2 6266053</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 472:            25      472 2017-05-31 18:00:00  56.08996 702976.4 6266241</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 473:            25      473 2017-06-01 00:00:00  68.36060 703042.1 6266307</span>
<span class="r-in"><span><span class="co"># Suppress plots via `.plot = FALSE`</span></span></span>
<span class="r-in"><span><span class="fu">coa</span><span class="op">(</span>.map <span class="op">=</span> <span class="va">map</span>, .detections <span class="op">=</span> <span class="va">det</span>, .moorings <span class="op">=</span> <span class="va">moorings</span>,</span></span>
<span class="r-in"><span>    .delta_t <span class="op">=</span> <span class="st">"6 hours"</span>, .split <span class="op">=</span> <span class="st">"individual_id"</span>,</span></span>
<span class="r-in"><span>    .one_page <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      individual_id timestep           timestamp map_value        x       y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              &lt;int&gt;    &lt;int&gt;              &lt;POSc&gt;     &lt;num&gt;    &lt;num&gt;   &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1:            25        1 2016-03-17 00:00:00  59.76520 709120.1 6253030</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2:            25        2 2016-03-17 06:00:00  49.72233 709398.4 6253169</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3:            25        3 2016-03-21 18:00:00  58.17422 709242.1 6253107</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4:            25        4 2016-03-22 00:00:00  58.17422 709242.1 6253107</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5:            25        5 2016-03-22 06:00:00  58.17422 709242.1 6253107</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ---                                                                      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 469:            25      469 2017-05-30 00:00:00  56.08996 702939.6 6266204</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 470:            25      470 2017-05-30 06:00:00  68.36060 703042.1 6266307</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 471:            25      471 2017-05-30 18:00:00  34.53219 702839.2 6266053</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 472:            25      472 2017-05-31 18:00:00  56.08996 702976.4 6266241</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 473:            25      473 2017-06-01 00:00:00  68.36060 703042.1 6266307</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#### Example (4): Specify `.detections` only</span></span></span>
<span class="r-in"><span><span class="co"># `.moorings` is not required if `.detections` contains receiver coordinates</span></span></span>
<span class="r-in"><span><span class="fu">coa</span><span class="op">(</span>.map <span class="op">=</span> <span class="va">map</span>,</span></span>
<span class="r-in"><span>    .detections <span class="op">=</span></span></span>
<span class="r-in"><span>      <span class="va">detections</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">moorings</span>, by <span class="op">=</span> <span class="st">"receiver_id"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    .delta_t <span class="op">=</span> <span class="st">"6 hours"</span>, .split <span class="op">=</span> <span class="st">"individual_id"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="coa-4.png" alt="" width="700" height="433"></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       individual_id timestep           timestamp map_value        x       y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               &lt;int&gt;    &lt;int&gt;              &lt;POSc&gt;     &lt;num&gt;    &lt;num&gt;   &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    1:            25        1 2016-03-17 00:00:00  59.76520 709120.1 6253030</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    2:            25        2 2016-03-17 06:00:00  49.72233 709398.4 6253169</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    3:            25        3 2016-03-21 18:00:00  58.17422 709242.1 6253107</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    4:            25        4 2016-03-22 00:00:00  58.17422 709242.1 6253107</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    5:            25        5 2016-03-22 06:00:00  58.17422 709242.1 6253107</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ---                                                                      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1204:            35      402 2017-04-10 18:00:00  99.90396 709048.8 6253427</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1205:            35      403 2017-04-11 18:00:00  49.51562 706342.1 6254307</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1206:            35      404 2017-04-12 00:00:00 117.36553 707042.1 6253840</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1207:            35      405 2017-04-12 18:00:00 113.60658 708771.2 6253210</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1208:            35      406 2017-04-19 18:00:00 129.77667 707242.1 6253707</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Edward Lavender.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

