<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>AC* set up: define detection container overlaps — acs_setup_detection_overlaps • patter</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="AC* set up: define detection container overlaps — acs_setup_detection_overlaps"><meta property="og:description" content="This function identifies receivers with overlapping detection containers in space and time for the AC* algorithms."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">patter</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/faqs.html">FAQs</a>
    </li>
    <li>
      <a href="../articles/workflow.html">A re-implementation of the `flapper` algorithms</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/edwardlavender/patter/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>AC* set up: define detection container overlaps</h1>
    <small class="dont-index">Source: <a href="https://github.com/edwardlavender/patter/blob/HEAD/R/acs-setup.R" class="external-link"><code>R/acs-setup.R</code></a></small>
    <div class="hidden name"><code>acs_setup_detection_overlaps.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function identifies receivers with overlapping detection containers in space and time for the AC* algorithms.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">acs_setup_detection_overlaps</span><span class="op">(</span><span class="va">.moorings</span>, .services <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="source">
    <h2>Source</h2>
    <p>This function supersedes the <a href="https://edwardlavender.github.io/flapper/reference/get_detection_containers_overlap.html" class="external-link"><code>get_detection_containers_overlaps</code></a> function in the <a href="https://github.com/edwardlavender/flapper" class="external-link"><code>flapper</code></a> package.</p>
    </div>
    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>.moorings</dt>
<dd><p>A <code><a href="https://Rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></code> that defines receiver deployments and associated information (see <code><a href="datasets-mefs.html">dat_moorings</a></code> for an example). At a minimum, this must contain the following columns:</p><ul><li><p><code>receiver_id</code>---an <code>integer</code> vector of receiver IDs;</p></li>
<li><p><code>receiver_easting</code> and <code>receiver_northing</code> or <code>receiver_lon</code> and <code>receiver_lat</code>---doubles that define receiver coordinates on a planar coordinate reference system or in longitude/latitude;</p></li>
<li><p><code>receiver_start</code>---a <code>Date</code> vector that defines receiver deployment dates;</p></li>
<li><p><code>receiver_end</code>---a <code>Date</code> vector that defines receiver retrieval dates;</p></li>
<li><p><code>receiver_range</code>---a double that defines the detection range (m) for each receiver;</p></li>
</ul></dd>


<dt>.services</dt>
<dd><p>(optional) A <code><a href="https://Rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></code> that defines receiver IDs and servicing <code>Date</code>s (times during the deployment period of a receiver when it was not active due to servicing) (see <code><a href="make_matrix_receivers.html">make_matrix_receivers()</a></code>). If provided, this must contain the following columns:</p><ul><li><p><code>receiver_id</code>---an <code>integer</code> vector of receiver IDs;</p></li>
<li><p><code>service_start</code>---a <code>Date</code> vector that defines receiver servicing start dates;</p></li>
<li><p><code>service_end</code>---a <code>Date</code> vector that defines receiver servicing completion dates;</p></li>
</ul></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>The function returns a nested <code>list</code>, with one element for all integers from <code>1:max(.moorings$receiver_id)</code>. Any elements that do not correspond to receivers contain a <code>NULL</code> element. List elements that correspond to receivers contain a <code>NULL</code> or a <code>list</code> that defines, for each deployment date with overlapping receiver(s), a vector of overlapping receiver(s).</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>In the AC* algorithms, at the moment of detection, the set of possible locations depends on the receiver(s) at which an individual is, and is not, detected. The outputs of this function are used to restrict the probability calculations to the set of receivers that overlap with the receiver(s) at which an individual is detected for improved efficiency.</p>
<p>At the time of writing (November 2023), the function permits receiver ranges to differ between receivers, but assumes they are constant in time.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>AC-branch algorithms in <code><a href="patter-package.html">patter</a></code> include the AC* algorithm (<code><a href="acs.html">acs()</a></code>) and the DC algorithm (<code><a href="dc.html">dc()</a></code>).</p>
<p>To implement the AC* algorithm, use:</p><ol><li><p><code><a href="acs_setup_obs.html">acs_setup_obs()</a></code> to set up observations;</p></li>
<li><p><code>acs_setup_detection_overlaps()</code> to identify receiver overlaps (used in detection probability calculations);</p></li>
<li><p><code><a href="acs_setup_detection_kernels.html">acs_setup_detection_kernels()</a></code> and <code><a href="acs_setup_detection_pr.html">acs_setup_detection_pr()</a></code> to define detection probability kernels;</p></li>
<li><p><code><a href="acs.html">acs()</a></code> to implement the AC algorithm;</p></li>
</ol><p>To implement the DC algorithm, use:</p><ol><li><p><code><a href="dc.html">dc()</a></code> to implement the algorithm;</p></li>
</ol><p>AC-branch algorithms return an <code><a href="acb-class.html">acb</a></code> object.</p>
<p>AC-branch algorithms are typically followed by particle filtering to reconstruct movement paths and refine maps of space use (see <code>pf_*()</code> functions).</p><ol><li><p>To begin, see <code><a href="pf_forward_1.html">pf_forward_1()</a></code>;</p></li>
<li><p>To implement AC- and PF-branch algorithms simultaneously, see <code><a href="pf_forward_2.html">pf_forward_2()</a></code>;</p></li>
</ol></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Edward Lavender</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">#### Example (1): Basic implementation</span></span></span>
<span class="r-in"><span><span class="va">overlaps</span> <span class="op">&lt;-</span> <span class="fu">acs_setup_detection_overlaps</span><span class="op">(</span><span class="va">dat_moorings</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>UTM coordinates used (both UTM and lon/lat coordinates detected).</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">overlaps</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Length Class  Mode</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1,]   0    -none- NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [2,]   0    -none- NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [3,] 225    -none- list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [4,] 371    -none- list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [5,]   0    -none- NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6,]   0    -none- NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7,] 109    -none- list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8,]   0    -none- NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [9,] 225    -none- list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10,]   0    -none- NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [11,]   0    -none- NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [12,] 371    -none- list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [13,]   0    -none- NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [14,] 371    -none- list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [15,]   0    -none- NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [16,]   0    -none- NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [17,]   0    -none- NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [18,] 261    -none- list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [19,]   0    -none- NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [20,] 370    -none- list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [21,] 427    -none- list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [22,]   0    -none- NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [23,] 206    -none- list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [24,] 261    -none- list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [25,]   0    -none- NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [26,] 230    -none- list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [27,]   0    -none- NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [28,]   0    -none- NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [29,]   0    -none- NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [30,] 245    -none- list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [31,] 262    -none- list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [32,]   0    -none- NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [33,] 144    -none- list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [34,]   0    -none- NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [35,] 116    -none- list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [36,]   0    -none- NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [37,] 115    -none- list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [38,] 116    -none- list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [39,]   0    -none- NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [40,] 109    -none- list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [41,] 165    -none- list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [42,]   0    -none- NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [43,] 165    -none- list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [44,]  79    -none- list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [45,] 165    -none- list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [46,] 165    -none- list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [47,] 165    -none- list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [48,] 165    -none- list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [49,] 165    -none- list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [50,] 165    -none- list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [51,] 165    -none- list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [52,]  77    -none- list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [53,]  77    -none- list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [54,]  77    -none- list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [55,]  75    -none- list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [56,]  75    -none- list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [57,]  75    -none- list</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Edward Lavender.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

